{
    "$schema": "http://json-schema.org/draft-04/schema#",

    "description": "This schema represents the header of a data transaction.",
    "type": "object",

    "definitions": {
        "date_time": {
            "$ref": "date-time-1.x.json"
        },
        "schema_id": {
            "$ref": "schema-id-1.x.json"
        },
        "device": {
            "$ref": "device-0.x.json"
        },
        "application":{
            "$ref": "application-0.x.json"
        }
    },

    "properties": {
        "id": {
            "description": "The identifier of this data point. We strongly recommend this to be a globally unique value.",
            "type": "string"
        },
        "creation_date_time": {
            "description": "The date time this data point was created.",
            "$ref": "#/definitions/date_time"
        },
        "schema_id": {
            "description": "The schema identifier of the body of the data point.",
            "$ref": "#/definitions/schema_id"
        },
        "acquisition_provenance": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "source": {
                        "oneOf": [
                            {
                                "device": {
                                    "description": "Device source of the data.",
                                    "$ref": "#/definitions/device"
                                },
                                "application": {
                                    "description": "Application source of the data.",
                                    "$ref": "#/definitions/application"
                                }
                            }
                        ]
                    },
                    "source_creation_date_time": {
                        "description": "The date time (timestamp) of data creation at the source.",
                        "$ref": "#/definitions/date_time"
                    },
                    "modality": {
                        "description": "The modality whereby the measure is obtained.",
                        "type": "string",
                        "enum": [
                            "sensed",
                            "self-reported"
                        ]
                    },
                    "placement": {
                        "description": "Placement of the device or measuring application.",
                        "type": "string",
                        "enum": [
                            "left ankle",
                            "right ankle",
                            "left hip",
                            "right hip",
                            "left thigh",
                            "right thigh",
                            "left thorax",
                            "middle left thorax",
                            "left upper arm",
                            "right upper arm",
                            "left wrist",
                            "right wrist"
                        ]
                    }
                },
                "required": [
                    "source",
                    "source_creation_date_time"
                ]
            }
        },
        "handedness": {
            "description": "The person's handedness, which indicates the dominant side.",
            "type": "string",
            "enum": [
                "ambidextrous",
                "left handed",
                "right handed",
                "unknown handedness"
            ]
        },
        "user_id": {
            "description": "The user this data point belongs to.",
            "type": "string"
        }
    },
    "required": [
        "id",
        "schema_id",
        "user_id"
    ]
}