{
    "$schema": "http://json-schema.org/draft-04/schema#",

    "description": "This schema represents a person and models properties like handedness and birth date.",
    "type": "object",

    "references": [
        {
            "description": "The SNOMED code represents Person (person).",
            "url": "http://purl.bioontology.org/ontology/SNOMEDCT/125676002"
        }
    ],
    "definitions": {
        "date": {
            "type": "string",
            "references": [
                {
                    "description": "This schema represents a date. See RFC 3339 5.6 for details.",
                    "url": "http://tools.ietf.org/html/rfc3339"
                }
            ],
            "oneOf": [
                {
                    "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$"
                },
                {
                    "pattern": "^[0-9]{4}-[0-9]{2}$"
                },
                {
                    "pattern": "^[0-9]{4}$"
                }
            ]
        },
        "human_name": {
            "$ref": "human-name-1.x.json"
        }
    },
    "properties": {
        "name": {
            "$ref": "#/definitions/human_name"
        },
        "birth_date": {
            "description": "The person's birth date, full or partial.",
            "$ref": "#/definitions/date"
        },
        "handedness": {
            "description": "The person's handedness, which indicates the dominant side.",
            "type": "string",
            "enum": [
                "ambidextrous",
                "left handed",
                "right handed",
                "unknown handedness"
            ]
        },
        "linked_to": {
            "description": "A person/role to which the person is linked.",
            "items": {
                "type": "object",
                "properties": {
                    "name": {
                        "$ref": "#/definitions/human_name"
                    },
                    "id": {
                        "description": "The identifier, if applicable, of the person/role linked to.",
                        "type": "string"
                    },
                    "role": {
                        "type": "string",
                        "description": "This value set is partial: additional values will be added as needed.",
                        "enum": [
                            "primary care physician",
                            "pharmacist"
                        ]
                    }
                },
                "required": [
                    "name"
                ]
            }
        }
    },
    "anyOf": [
        {
            "required": [
                "handedness"
            ]
        },
        {
            "required": [
                "birth_date"
            ]
        },
        {
            "required": [
                "name"
            ]
        }
    ]
}
